[gd_scene load_steps=20 format=3 uid="uid://c82cqueavh1mq"]

[ext_resource type="Script" path="res://scenes/ViewScene.cs" id="1_iwres"]
[ext_resource type="Environment" uid="uid://c7hvhnwnxbxc0" path="res://environments/view_environment.tres" id="2_0at1c"]
[ext_resource type="Script" path="res://cameras/SpectatorCamera.cs" id="3_ba1y1"]
[ext_resource type="VoxelGIData" uid="uid://blub5fjgyakdb" path="res://scenes/view.VoxelGI_data.res" id="3_xv0y1"]
[ext_resource type="Shader" path="res://shaders/hexgrid.gdshader" id="4_m4n71"]
[ext_resource type="Shader" path="res://shaders/outline.gdshader" id="6_0enan"]
[ext_resource type="Shader" path="res://shaders/square_grid.gdshader" id="6_4xd4x"]
[ext_resource type="Script" path="res://scenes/Cube.cs" id="6_igvm3"]
[ext_resource type="Script" path="res://scenes/PuzzleNode.cs" id="8_tq7y4"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_bthwb"]
dof_blur_near_distance = 1.2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_aytjf"]
render_priority = -3
shader = ExtResource("4_m4n71")
shader_parameter/size = Vector2(8, 7)

[sub_resource type="QuadMesh" id="QuadMesh_4anga"]
lightmap_size_hint = Vector2i(12, 12)
material = SubResource("ShaderMaterial_aytjf")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_iu6b4"]
render_priority = 0
shader = ExtResource("6_0enan")
shader_parameter/outlineColor = Color(0, 0, 0, 0.87451)
shader_parameter/depth_threshold = 0.025
shader_parameter/normal_threshold = 0.5
shader_parameter/normal_smoothing = 0.25
shader_parameter/max_thickness = 1.849
shader_parameter/min_thickness = 0.5
shader_parameter/max_distance = 75.0
shader_parameter/min_distance = 2.0
shader_parameter/grazing_fresnel_power = 5.0
shader_parameter/grazing_angle_mask_power = 1.0
shader_parameter/grazing_angle_modulation_factor = 50.0

[sub_resource type="QuadMesh" id="QuadMesh_5rwvi"]
material = SubResource("ShaderMaterial_iu6b4")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dkf1r"]

[sub_resource type="TorusMesh" id="TorusMesh_vb7n2"]
material = SubResource("StandardMaterial3D_dkf1r")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rm8vq"]
render_priority = 1
shader = ExtResource("6_4xd4x")
shader_parameter/n_rows = 11
shader_parameter/n_columns = 11
shader_parameter/thickness = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bq6ap"]
next_pass = SubResource("ShaderMaterial_rm8vq")
albedo_color = Color(0, 0.831373, 0.839216, 1)
metallic = 1.0
roughness = 0.2

[sub_resource type="PlaneMesh" id="PlaneMesh_e0dol"]
material = SubResource("StandardMaterial3D_bq6ap")
size = Vector2(11, 11)

[node name="ViewScene" type="Node3D"]
script = ExtResource("1_iwres")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_0at1c")
camera_attributes = SubResource("CameraAttributesPractical_bthwb")

[node name="VoxelGI" type="VoxelGI" parent="."]
size = Vector3(12, 10, 12)
data = ExtResource("3_xv0y1")

[node name="SpectatorCamera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.237255, 2.20909, 1.71842)
script = ExtResource("3_ba1y1")

[node name="PostProcessingMesh" type="MeshInstance3D" parent="SpectatorCamera"]
visible = false
extra_cull_margin = 16384.0
gi_mode = 0
mesh = SubResource("QuadMesh_4anga")
skeleton = NodePath("../..")

[node name="OutlinePost" type="MeshInstance3D" parent="SpectatorCamera"]
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_5rwvi")

[node name="Cube" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000500202, 0.834049, -2.80975)
visible = false
gi_mode = 2
script = ExtResource("6_igvm3")

[node name="Torus" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.78372, 1.25474, 0.740104)
visible = false
mesh = SubResource("TorusMesh_vb7n2")
skeleton = NodePath("../Cube")

[node name="Ground" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_e0dol")

[node name="PuzzleNode" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
script = ExtResource("8_tq7y4")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.961262, 0.21022, -0.178279, 0, 0.64679, 0.762668, 0.275637, -0.733124, 0.621734, -0.632015, 4.56161, 2.25)
shadow_enabled = true
